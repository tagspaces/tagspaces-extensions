(this["webpackJsonp@tagspaces/md-editor"]=this["webpackJsonp@tagspaces/md-editor"]||[]).push([[0],{354:function(e,n,t){},363:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),o=t(23),r=t.n(o),c=t(4),s=t(173),u=t(120),d=t(31),l=t(119),p=t(174),f=t(42),m=t(178),b=t(176),j=t(175),g=t(177),O=t(2);function w(e,n,t){var a=Object(i.useRef)();Object(i.useEffect)((function(){var i=(null===t||void 0===t?void 0:t.current)||window;if(i&&i.addEventListener){a.current!==n&&(a.current=n);var o=function(e){(null===a||void 0===a?void 0:a.current)&&a.current(e)};return i.addEventListener(e,o),function(){i.removeEventListener(e,o)}}}),[e,t,n])}t(348),t(349),t(350),t(351),t(352),t(353),t(354);var h,v=t(10),x=t(390),y=t(400),k=t(397),S=t(394),D=t(395),M=t(396),C=t(169),L=t.n(C),E=t(171),J=t.n(E),N=t(401),K=t(402),T=t(399),G=t(22),R=Object(x.a)((function(e){return Object(y.a)({root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})})),z=function(){var e=Object(i.useState)(!1),n=Object(v.a)(e,2),t=n[0],a=n[1],o=Object(i.useState)(!1),r=Object(v.a)(o,2),c=r[0],s=r[1],u=R(),d=[{icon:Object(G.jsx)(L.a,{}),name:"About",action:function(){return a(!0)}},{icon:Object(G.jsx)(J.a,{}),name:"Print",action:function(){return window.print()}}];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(N.a,{ariaLabel:"SpeedDial example",className:u.speedDial,hidden:!1,icon:Object(G.jsx)(K.a,{}),onClose:function(){s(!1)},onOpen:function(){s(!0)},open:c,direction:"up",children:d.map((function(e){return Object(G.jsx)(T.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.action},e.name)}))}),Object(G.jsxs)(k.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"simple-dialog-title",children:[Object(G.jsx)(S.a,{id:"simple-dialog-title",children:"About Title"}),Object(G.jsxs)(D.a,{children:["Please visit the \xa0",Object(G.jsx)(M.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),window.parent.postMessage(JSON.stringify({command:"openLinkExternally",link:"https://github.com/tagspaces/tagspaces-extensions/tree/main/md-editor"}),"*")},children:"\xa0 project page"}),"on GitHub for details about this extension."]})]})]})},A=function(){var e=Object(i.useRef)(null),n=function(){return window.editMode},t=function(){return window.mdContent};w("keyup",(function(e){n()&&(e.ctrlKey||e.metaKey)&&"s"===e.key.toLowerCase()?window.parent.postMessage(JSON.stringify({command:"saveDocument"}),"*"):(e.ctrlKey||e.metaKey)&&"p"===e.key.toLowerCase()&&window.print()})),w("dblclick",(function(e){n()||window.parent.postMessage(JSON.stringify({command:"editDocument"}),"*")})),w("contentLoaded",(function(){if(e.current){var n=e.current.get();n&&n.action((function(e){var n=e.get(c.j),i=e.get(c.n)(t());if(i){var a=n.state;n.dispatch(a.tr.replace(0,a.doc.content.size,new O.j(i.content,0,0)))}}))}}));var a="links",o=Object(c.m)({id:a,schema:{group:"inline",inline:!0,marks:""},parser:{match:function(e){return"link"===e.type},runner:function(e,n,t){e.next(n.children)}},serializer:{match:function(e){return e.type.name===a},runner:function(e,n){}}}),r={markdown:[function(e){n()&&(window.mdContent=e(),window.parent.postMessage(JSON.stringify({command:"contentChangedInEditor"}),"*"))}]},h=Object(c.q)(s.a),v=Object(u.b)((function(e){return c.b.make().config((function(i){i,i.set(c.r,e);var a=t();a&&i.set(c.i,a),i.set(l.b,r),i.set(c.k,{editable:n})})).use([h,o]).use(d.p).use(m.a).use(l.a).use(g.a).use(p.a).use(f.c).use(b.a).use(j.a)}));return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(u.a,{ref:e,editor:v}),Object(G.jsx)(z,{})]})};h={command:"loadDefaultTextContent"},window.parent.postMessage(JSON.stringify(h),"*"),r.a.render(Object(G.jsx)(a.a.StrictMode,{children:Object(G.jsx)(A,{})}),document.getElementById("root"))}},[[363,1,2]]]);
//# sourceMappingURL=main.06728992.chunk.js.map