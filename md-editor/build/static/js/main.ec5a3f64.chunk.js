(this["webpackJsonp@tagspaces/md-editor"]=this["webpackJsonp@tagspaces/md-editor"]||[]).push([[0],{236:function(e,n,t){},408:function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),o=t(29),r=t.n(o),c=t(149),s=t(158),u=t(410),d=t(153),l=t(454),p=t(150),f=t(213),m=t(451),b=t(117),j=t(156),g=t(216),O=t(147),w=t(220),h=t(215),v=t(214),x=t(219),y=t(1),k=t(217),S=t(218);function D(e,n,t){var a=Object(i.useRef)();Object(i.useEffect)((function(){var i=(null===t||void 0===t?void 0:t.current)||window;if(i&&i.addEventListener){a.current!==n&&(a.current=n);var o=function(e){(null===a||void 0===a?void 0:a.current)&&a.current(e)};return i.addEventListener(e,o),function(){i.removeEventListener(e,o)}}}),[e,t,n])}t(236);var M,C=t(17),L=t(439),E=t(453),J=t(449),N=t(443),K=t(444),T=t(445),G=t(202),R=t.n(G),z=t(204),A=t.n(z),F=t(455),I=t(456),P=t(452),B=t(26),H=Object(L.a)((function(e){return Object(E.a)({root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})})),U=function(){var e=Object(i.useState)(!1),n=Object(C.a)(e,2),t=n[0],a=n[1],o=Object(i.useState)(!1),r=Object(C.a)(o,2),c=r[0],s=r[1],u=H(),d=[{icon:Object(B.jsx)(R.a,{}),name:"About",action:function(){return a(!0)}},{icon:Object(B.jsx)(A.a,{}),name:"Print",action:function(){return window.print()}}];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(F.a,{ariaLabel:"SpeedDial example",className:u.speedDial,hidden:!1,icon:Object(B.jsx)(I.a,{}),onClose:function(){s(!1)},onOpen:function(){s(!0)},open:c,direction:"up",children:d.map((function(e){return Object(B.jsx)(P.a,{icon:e.icon,tooltipTitle:e.name,onClick:e.action},e.name)}))}),Object(B.jsxs)(J.a,{open:t,onClose:function(){a(!1)},"aria-labelledby":"simple-dialog-title",children:[Object(B.jsx)(N.a,{id:"simple-dialog-title",children:"About Title"}),Object(B.jsxs)(K.a,{children:["Please visit the \xa0",Object(B.jsx)(T.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),window.parent.postMessage(JSON.stringify({command:"openLinkExternally",link:"https://github.com/tagspaces/tagspaces-extensions/tree/main/md-editor"}),"*")},children:"\xa0 project page"}),"on GitHub for details about this extension."]})]})]})},W=function(){var e=Object(i.useRef)(null),n=function(){return window.editMode},t=function(){return window.mdContent};D("keyup",(function(e){n()&&(e.ctrlKey||e.metaKey)&&"s"===e.key.toLowerCase()?window.parent.postMessage(JSON.stringify({command:"saveDocument"}),"*"):(e.ctrlKey||e.metaKey)&&"p"===e.key.toLowerCase()&&window.print()})),D("dblclick",(function(e){n()||window.parent.postMessage(JSON.stringify({command:"editDocument"}),"*")})),D("contentLoaded",(function(){if(e.current){var n=e.current.get();n&&n.action((function(e){var n=e.get(c.c),i=e.get(s.c)(t());if(i){var a=n.state;n.dispatch(a.tr.replace(0,a.doc.content.size,new y.j(i.content,0,0)))}}))}}));var a="links",o=Object(u.a)({id:a,schema:{group:"inline",inline:!0,marks:""},parser:{match:function(e){return"link"===e.type},runner:function(e,n,t){e.next(n.children)}},serializer:{match:function(e){return e.type.name===a},runner:function(e,n){}}}),r={markdown:[function(e){n()&&(window.mdContent=e(),window.parent.postMessage(JSON.stringify({command:"contentChangedInEditor"}),"*"))}]},M=Object(d.a)(f.a),C=Object(m.b)((function(e){return l.a.make().config((function(i){i,i.set(c.e,e);var a=t();a&&i.set(p.b,a),i.set(j.b,r),i.set(c.d,{editable:n})})).use(k.a).use([M,o]).use(b.a).use(w.a).use(j.a).use(x.a).use(g.a).use(O.a).use(S.a).use(h.a).use(v.a)}));return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(m.a,{ref:e,editor:C}),Object(B.jsx)(U,{})]})};M={command:"loadDefaultTextContent"},window.parent.postMessage(JSON.stringify(M),"*"),r.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(W,{})}),document.getElementById("root"))}},[[408,1,2]]]);
//# sourceMappingURL=main.ec5a3f64.chunk.js.map